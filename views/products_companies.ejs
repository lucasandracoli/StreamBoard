<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Selecionar Loja - Menu Digital</title>
    <link rel="stylesheet" href="/css/styles.css?v=<%= appVersion %>" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/notyf@3.10.0/notyf.min.css"
      rel="stylesheet"
    />
  </head>
  <body id="products-companies-page" class="dashboard">
    <%- include("partials/navbar") %>

    <main class="container">
      <% if (companies.length === 0) { %>
      <div class="empty-state-container">
        <div class="empty-state-icon">
          <i class="bi bi-building-slash"></i>
        </div>
        <h3 class="empty-state-title">Primeiro, Cadastre uma Empresa</h3>
        <p class="empty-state-subtitle">
          Para gerenciar os itens de um menu, você precisa ter pelo menos uma
          empresa registrada no sistema. Vá para a página de empresas para
          começar.
        </p>
        <a
          href="/companies"
          class="device-button"
          style="text-decoration: none"
        >
          <i class="bi bi-building"></i>
          <span>Ir para Empresas</span>
        </a>
      </div>
      <% } else { %>

      <div class="company-grid">
        <% companies.forEach(company => { %>
        <a href="/products/<%= company.id %>" class="company-card">
          <div class="company-card-icon">
            <i class="bi bi-shop"></i>
          </div>
          <div class="company-card-info">
            <span class="company-card-name"><%= company.name %></span>
            <span class="company-card-cnpj"
              ><%= formatUtils.formatarCNPJ(company.cnpj) %></span
            >
          </div>
          <i class="bi bi-chevron-right arrow-icon"></i>
        </a>
        <% }) %>
      </div>
      <% } %>
    </main>

    <%- include("partials/footer") %>
    <script src="https://cdn.jsdelivr.net/npm/notyf@3.10.0/notyf.min.js"></script>

    <script type="module" src="/js/main.js?v=<%= appVersion %>"></script>
  </body>
</html>

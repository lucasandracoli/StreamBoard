<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Relatórios - StreamBoard</title>
    <link rel="stylesheet" href="/css/styles.css?v=<%= appVersion %>" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
</head>
<body id="reports-page" class="dashboard">
    <%- include("partials/navbar") %>

    <main class="container">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-card-icon devices"><i class="bi bi-hdd-stack-fill"></i></div>
                <div class="stat-card-info">
                    <span class="stat-card-title">Dispositivos Ativos</span>
                    <span class="stat-card-value"><%= stats.active_devices %></span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-card-icon campaigns"><i class="bi bi-megaphone-fill"></i></div>
                <div class="stat-card-info">
                    <span class="stat-card-title">Campanhas Ativas</span>
                    <span class="stat-card-value"><%= stats.active_campaigns %></span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-card-icon online"><i class="bi bi-play-circle-fill"></i></div>
                <div class="stat-card-info">
                    <span class="stat-card-title">Plays (24h)</span>
                    <span class="stat-card-value"><%= stats.plays_last_24h %></span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-card-icon revoked"><i class="bi bi-collection-play-fill"></i></div>
                <div class="stat-card-info">
                    <span class="stat-card-title">Total de Plays</span>
                    <span class="stat-card-value"><%= stats.total_plays %></span>
                </div>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-card">
                <h3>Exibições nos Últimos 7 Dias</h3>
                <canvas id="playsOverTimeChart"></canvas>
            </div>
            <div class="chart-card">
                <h3>Top 5 Mídias</h3>
                <canvas id="topMediaChart"></canvas>
            </div>
            <div class="chart-card">
                <h3>Top 5 Campanhas</h3>
                <canvas id="topCampaignsChart"></canvas>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4/build/global/luxon.min.js"></script>
    <script type="module" src="/js/main.js?v=<%= appVersion %>"></script>
</body>
</html>